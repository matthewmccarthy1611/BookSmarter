<%= render 'search' %>

<% if params[:user_id] %>
    <h1><%= @user.name %>'s Books</h1>
<% else %>
    <h1>All Books</h1>
<% end %>


<% if @books.ids.empty? %>
    <p>nothing here</p>
<% else %>
    <%= link_to "Show Only Books with Comments", books_with_comments_path %> |
    <%= link_to "Create New Comment", new_comment_path %><br>
    <ul>
    <% @books.uniq.each do |book| %>
        <li>
        <%= link_to book.title, book_path(book) %> | <%= book.author %> | <%= book.page_count %> pages | <%= book.comment_count %> comments
        </li>
    <% end %>
    <ul>
<% end %>